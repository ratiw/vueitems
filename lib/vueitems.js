!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Vueitems=e():t.Vueitems=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(40),o=i(r);e["default"]=o["default"]},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(23),r=n(6);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),o=i(r);e["default"]={props:{wrapperClass:{type:String,"default":"vueitems-wrapper"},tableClass:{type:String,"default":"ui blue striped celled selectable single line attached table"},loaderWrapper:{type:String,"default":null},loadingClass:{type:String,"default":"loading"},fields:{type:Array,required:!0},dataItems:{type:Array,"default":function(){return[]}},itemActions:{type:Array,"default":function(){return[]}},selectedTo:{type:Array,"default":function(){return[]}},sortHandleIcon:{type:String,"default":"grey sidebar icon"},minRows:{type:Number,"default":0,coerce:function(t){return parseInt(t)}}},data:function(){return{version:"0.1",eventPrefix:"vueitems:"}},directives:{attr:{update:function(t){for(var e in t)this.el.setAttribute(e,t[e])}}},computed:{lessThanMinRows:function(){return 0===this.dataItems.length||this.dataItems.length<this.minRows},blankRows:function(){return 0===this.dataItems.length?this.minRows:this.dataItems.length>=this.minRows?0:this.minRows-this.dataItems.length}},methods:{normalizeFields:function(){var t=this;this.fields.forEach(function(e,n){var i=null;"string"==typeof e?i=t.makeField(e):(i=t.makeField(),(0,o["default"])(e).forEach(function(t){i[t]=e[t]})),""===i.title.trim()&&(i.title=t.setTitle(i.name)),t.fields.$set(n,i)})},makeField:function(t){return t=t||"",{name:t,title:"",titleClass:"",dataClass:"",callback:null,visible:!0}},setTitle:function(t){return this.isSpecialField(t)?"":this.titleCase(t)},titleCase:function(t){return t.replace(/\w+/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},showLoadingAnimation:function(t){null!==t&&this.addClass(t,this.loadingClass),this.dispatchEvent("loading")},hideLoadingAnimation:function(t){null!==t&&this.removeClass(t,this.loadingClass),this.dispatchEvent("loaded")},getTitle:function(t){return t.title},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},dispatchEvent:function(t,e){this.$dispatch(this.eventPrefix+t,e)},isSpecialField:function(t){return"__"===t.slice(0,2)},hasCallback:function(t){return!!t.callback},callCallback:function(t,e){if(this.hasCallback(t)){var n=t.callback.split("|"),i=n.shift();return"function"==typeof this.$parent[i]?n.length>0?this.$parent[i].apply(this.$parent,[this.getObjectValue(e,t.name)].concat(n)):this.$parent[i].call(this.$parent,this.getObjectValue(e,t.name)):null}},getObjectValue:function(t,e,n){n="undefined"==typeof n?null:n;var i=t;if(""!=e.trim()){var r=e.split(".");r.forEach(function(t){return"undefined"==typeof i[t]||null===i[t]?void(i=n):void(i=i[t])})}return i},callAction:function(t,e){this.$dispatch(this.eventPrefix+"action",t,e)},toggleCheckbox:function(t,e,n){var i=this.extractArgs(n);return void 0===i?void console.warn('You did not provide reference id column with "__checkbox:<column_name>" field!'):void(t?this.selectedTo.push(e[i]):this.selectedTo.$remove(e[i]))},toggleAllCheckboxes:function(t,e){var n=this,i=this.extractArgs(e);t?this.dataItems.forEach(function(t){n.isSelectedRow(t,e)||n.selectedTo.push(t[i])}):this.dataItems.forEach(function(t){n.selectedTo.$remove(t[i])})},isSelectedRow:function(t,e){return this.selectedTo.indexOf(t[this.extractArgs(e)])>=0},extractName:function(t){return t.split(":")[0].trim()},extractArgs:function(t){return t.split(":")[1]},setOptions:function(t){for(var e in t)this.$set(e,t[e])},onRowChanged:function(t){return this.dispatchEvent("row-changed",t),!0},onRowClicked:function(t,e){return this.$dispatch(this.eventPrefix+"row-clicked",t,e),!0},onCellDoubleClicked:function(t,e,n){this.$dispatch(this.eventPrefix+"cell-dblclicked",t,e,n)}},events:{"vueitems:set-options":function(t){this.setOptions(t)}},created:function(){this.normalizeFields()},compiled:function(){var t=document.querySelector(this.loaderWrapper);this.showLoadingAnimation(t)},ready:function(){var t=document.querySelector(this.loaderWrapper);this.hideLoadingAnimation(t)}}},function(t,e,n){t.exports={"default":n(11),__esModule:!0}},function(t,e,n){n(36),t.exports=n(1).Object.keys},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(5);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var i=n(8),r=n(32),o=n(31);t.exports=function(t){return function(e,n,a){var s,l=i(e),c=r(l.length),u=o(a,c);if(t&&n!=n){for(;c>u;)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(12);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(5),r=n(4).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(4),r=n(1),o=n(16),a=n(21),s="prototype",l=function(t,e,n){var c,u,f,d=t&l.F,p=t&l.G,h=t&l.S,v=t&l.P,m=t&l.B,b=t&l.W,g=p?r:r[e]||(r[e]={}),x=g[s],y=p?i:h?i[e]:(i[e]||{})[s];p&&(n=e);for(c in n)u=!d&&y&&void 0!==y[c],u&&c in g||(f=u?y[c]:n[c],g[c]=p&&"function"!=typeof y[c]?n[c]:m&&u?o(f,i):b&&y[c]==f?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[s]=t[s],e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((g.virtual||(g.virtual={}))[c]=f,t&l.R&&x&&!x[c]&&a(x,c,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(24),r=n(28);t.exports=n(2)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(2)&&!n(3)(function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(15);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(13),r=n(22),o=n(34),a=Object.defineProperty;e.f=n(2)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(20),r=n(8),o=n(14)(!1),a=n(29)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var i=n(25),r=n(18);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(19),r=n(1),o=n(3);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(30)("keys"),r=n(35);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(4),r="__core-js_shared__",o=i[r]||(i[r]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var i=n(7),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(7),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(6);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(5);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(33),r=n(26);n(27)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){e=t.exports=n(38)(),e.push([t.id,"",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e){t.exports=' <div class={{wrapperClass}}> <table class="vueitems {{tableClass}}"> <thead> <tr> <template v-for="field in fields"> <template v-if=field.visible> <template v-if=isSpecialField(field.name)> <th v-if="extractName(field.name) == \'__checkbox\'" class="vueitems-checkbox {{field.titleClass || \'\'}}"> <input type=checkbox @change="toggleAllCheckboxes($event.target.checked, field.name)"> </th> <th v-else id={{field.name}} class="{{field.titleClass || \'\'}}"> {{field.title || \'\'}} </th> </template> <template v-else> <th id=_{{field.name}} class="{{field.titleClass || \'\'}}"> {{getTitle(field) | capitalize}}&nbsp; </th> </template> </template> </template> </tr> </thead> <tbody v-cloak id=vueitems-list> <tr v-for="(itemNumber, item) in dataItems" item-id={{itemNumber}} @click="onRowClicked(item, $event)"> <template v-if=onRowChanged(item)></template> <template v-for="field in fields"> <template v-if=field.visible> <template v-if=isSpecialField(field.name)> <td v-if="extractName(field.name) == \'__handle\'" class="vueitems-handle {{field.dataClass}}"> <i class="sort-handle {{sortHandleIcon}}"></i> </td> <td v-if="extractName(field.name) == \'__sequence\'" class="vueitems-sequence {{field.dataClass}}" v-html=itemNumber+1> </td> <td v-if="extractName(field.name) == \'__checkbox\'" class="vueitems-checkbox {{field.dataClass}}"> <input type=checkbox @change="toggleCheckbox($event.target.checked, item, field.name)" :checked="isSelectedRow(item, field.name)"> </td> <td v-if="field.name == \'__actions\'" class="vueitems-actions {{field.dataClass}}"> <template v-for="action in itemActions"> <button class="action-button {{ action.class }}" @click="callAction(action.name, item)" v-attr=action.extra> <i class="{{ action.icon }}"></i> {{ action.label }} </button> </template> </td> </template> <template v-else> <td v-if=hasCallback(field) class={{field.dataClass}} @dblclick="onCellDoubleClicked(item, field, $event)"> {{{ callCallback(field, item) }}} </td> <td v-else class={{field.dataClass}} @dblclick="onCellDoubleClicked(item, field, $event)"> {{{ getObjectValue(item, field.name, "") }}} </td> </template> </template> </template> </tr> <template v-if=lessThanMinRows> <tr v-for="i in blankRows" class=blank-row> <template v-for="field in fields"> <td v-if=field.visible>&nbsp;</td> </template> </tr> </template> </tbody> </table> </div>'},function(t,e,n){var i,r;n(42),i=n(9),r=n(39),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=f[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(l(i.parts[o],e))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(l(i.parts[o],e));f[i.id]={id:i.id,refs:1,parts:a}}}}function r(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r[0],a=r[1],s=r[2],l=r[3],c={css:a,media:s,sourceMap:l};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(t,e){var n=h(),i=b[b.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function l(t,e){var n,i,r;if(e.singleton){var o=m++;n=v||(v=s(e)),i=c.bind(null,n,o,!1),r=c.bind(null,n,o,!0)}else n=s(e),i=u.bind(null,n),r=function(){a(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function c(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function u(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var f={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},p=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=d(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,m=0,b=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=p()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=r(t);return i(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=f[s.id];l.refs--,o.push(l)}if(t){var c=r(t);i(c,e)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var i=n(37);"string"==typeof i&&(i=[[t.id,i,""]]);n(41)(i,{});i.locals&&(t.exports=i.locals)}])});
//# sourceMappingURL=vueitems.js.map